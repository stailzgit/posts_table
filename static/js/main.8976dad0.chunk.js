(this.webpackJsonptest_work_posts_table=this.webpackJsonptest_work_posts_table||[]).push([[0],{112:function(e,t,n){},140:function(e,t,n){"use strict";n.r(t);var a=n(178),c=n(0),r=n.n(c),s=n(38),i=n.n(s),o=n(73),l=(n(112),n(25)),u=n.n(l),j=n(16),d=n(41),b=n(7),h=n(60),f=n(61),O=n(92),x=n.n(O),m=function(){function e(){Object(h.a)(this,e)}return Object(f.a)(e,null,[{key:"getAll",value:function(){var e=Object(d.a)(u.a.mark((function e(){var t,n,a,c,r,s=arguments;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.length>0&&void 0!==s[0]?s[0]:10,n=s.length>1&&void 0!==s[1]?s[1]:1,a=s.length>2&&void 0!==s[2]?s[2]:"",c=s.length>3&&void 0!==s[3]?s[3]:{title:"id",orderByASC:!0},e.next=6,x.a.get("https://jsonplaceholder.typicode.com/posts",{params:{q:a,_limit:t,_page:n,_sort:c.title,_order:c.orderByASC?"asc":"desc"}});case 6:return r=e.sent,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),e}(),p="...",v=function(e,t){var n=t-e+1;return Array.from({length:n},(function(t,n){return n+e}))},g=n(1),_=function(e){var t=e.onPageChange,n=e.totalCount,a=e.siblingCount,r=void 0===a?1:a,s=e.currentPage,i=e.pageSize,o=function(e){var t=e.totalCount,n=e.pageSize,a=e.siblingCount,r=void 0===a?1:a,s=e.currentPage;return Object(c.useMemo)((function(){var e=Math.ceil(t/n);if(r+5>=e)return v(1,e);var a=Math.max(s-r,1),c=Math.min(s+r,e),i=a>2,o=c<e-2,l=1,u=e;if(!i&&o){var d=v(1,3+2*r);return[].concat(Object(j.a)(d),[p,e])}if(i&&!o){var b=v(e-(3+2*r)+1,e);return[l,p].concat(Object(j.a)(b))}if(i&&o){var h=v(a,c);return[l,p].concat(Object(j.a)(h),[p,u])}}),[t,n,r,s])}({currentPage:s,totalCount:n,siblingCount:r,pageSize:i});if(o.length<=1)return Object(g.jsx)(g.Fragment,{});var l=o[o.length-1],u=function(e){return"pagination__btn "+(s===e&&"pagination__btn_disabled")};return Object(g.jsxs)("div",{className:"pagination-container",children:[Object(g.jsx)("div",{className:u(1),onClick:function(){1!==s&&t(s-1)},children:"\u041d\u0430\u0437\u0430\u0434"}),Object(g.jsx)("div",{className:"pagination__items",children:o.map((function(e,n){return Object(g.jsx)("div",{children:e===p?Object(g.jsx)("div",{className:"pagination__dots",children:"\u2026"}):Object(g.jsx)("div",{className:(a=e,"pagination__item "+(s===a&&"pagination__item_selected")),onClick:function(){return t(e)},children:e})},n);var a}))}),Object(g.jsx)("div",{className:u(l),onClick:function(){s!==l&&t(s+1)},children:"\u0414\u0430\u043b\u0435\u0435"})]})},S=n(93),C=n.n(S),N=n(64),y=function(e){var t=e.posts,n=e.sort,a=e.setSort,c=e.debouncedSearch,r=e.isPostsLoading,s=function(e){var t=e===n.title,a=t?"table__sort-icon_active":"";return Object(g.jsx)("div",{className:"table__sort-wrap",children:t&&!n.orderByASC?Object(g.jsx)(N.b,{className:a}):Object(g.jsx)(N.a,{className:a})})};return t.length||r?t.length?Object(g.jsxs)("table",{className:"table",children:[Object(g.jsx)("thead",{children:Object(g.jsx)("tr",{className:"table__head",children:[{title:"id",text:"ID",className:"table__head-id"},{title:"title",text:"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a",className:"table__head-title"},{title:"body",text:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",className:"table__head-body"}].map((function(e){return Object(g.jsxs)("th",{className:e.className,onClick:function(){return t=e.title,void a((function(e){return{title:t,orderByASC:!(e.title===t&&e.orderByASC)}}));var t},children:[e.text," ",s(e.title)]},e.title)}))})}),Object(g.jsx)("tbody",{children:t.map((function(e){var t=[{className:"table__cell-id",text:e.id.toString()},{className:"table__cell-title",text:e.title},{className:"table__cell-body",text:e.body}];return Object(g.jsx)("tr",{className:"table__row",children:t.map((function(t){return Object(g.jsx)("td",{className:t.className,children:Object(g.jsx)(C.a,{searchWords:[c],textToHighlight:t.text})},t.className+e.id)}))},e.id)}))})]}):Object(g.jsx)(g.Fragment,{}):Object(g.jsx)("div",{children:"\u041d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e"})},w=n(184);function k(){return Object(g.jsx)(w.a,{size:24})}var A=n(97),P=n.n(A),B=n(96),E=n.n(B),L=n(185),z=n(20),T=n(186),M=n(187),W=n(182),F=n(179),I=n(181),J=r.a.memo((function(e){var t=e.search,n=e.onSearchChange,a=e.resetSearch,c=e.limit,r=e.setLimit,s=e.isPostsLoading,i=e.isEmptySearch;return Object(g.jsxs)("div",{className:"filters__wrap",children:[Object(g.jsxs)(L.a,{sx:{backgroundColor:"#5A5C66",borderRadius:"0px",width:"480px",minWidth:"240px",display:"flex"},children:[Object(g.jsx)(z.c,{value:t,onChange:n,sx:{ml:3,color:"#fff",width:"100%"},placeholder:"\u041f\u043e\u0438\u0441\u043a"}),Object(g.jsxs)(T.a,{onClick:function(){""!==t&&a()},children:[s&&Object(g.jsx)(k,{}),!s&&t&&Object(g.jsx)(E.a,{htmlColor:"#ed8282"}),!s&&!t&&Object(g.jsx)(P.a,{htmlColor:"#fff"})]})]}),Object(g.jsxs)(M.a,{size:"small",sx:{m:.5,minWidth:80,position:"relative",display:"".concat(i?"none":"block")},children:[Object(g.jsx)(W.a,{children:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c"}),Object(g.jsxs)(F.a,{defaultValue:10,value:c,id:"outlined-read-only-input",label:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c",onChange:function(e){return r(e.target.value)},sx:{minWidth:80},children:[Object(g.jsx)(I.a,{value:10,children:"10"}),Object(g.jsx)(I.a,{value:25,children:"25"}),Object(g.jsx)(I.a,{value:100,children:"\u0412\u0441\u0435"})]})]})]})})),q=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,n=Object(c.useState)(e),a=Object(b.a)(n,2),r=a[0],s=a[1];return Object(c.useEffect)((function(){var n=setTimeout((function(){return s(e)}),t);return function(){clearTimeout(n)}}),[e,t]),r},D=function(){var e=Object(c.useState)(""),t=Object(b.a)(e,2),n=t[0],a=t[1];return{search:n,debouncedSearch:q(n),onSearchChange:function(e){a(e.currentTarget.value.toLowerCase())},resetSearch:function(){a("")}}},H=n(12),R=function(){var e=Object(H.d)(),t=Object(c.useState)([]),n=Object(b.a)(t,2),a=n[0],r=n[1],s=D(),i=s.search,o=s.debouncedSearch,l=s.onSearchChange,h=s.resetSearch,f=Object(c.useState)({title:"id",orderByASC:!0}),O=Object(b.a)(f,2),x=O[0],p=O[1],v=Object(c.useState)(0),S=Object(b.a)(v,2),C=S[0],N=S[1],w=Object(c.useState)(10),k=Object(b.a)(w,2),A=k[0],P=k[1],B=Object(c.useState)(1),E=Object(b.a)(B,2),L=E[0],z=E[1],T=function(e){var t=Object(c.useState)(!1),n=Object(b.a)(t,2),a=n[0],r=n[1],s=Object(c.useState)(""),i=Object(b.a)(s,2),o=i[0],l=i[1];return[function(){var t=Object(d.a)(u.a.mark((function t(){var n,a,c,s=arguments;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(n=s.length,a=new Array(n),c=0;c<n;c++)a[c]=s[c];r(!0),setTimeout(Object(d.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.apply(void 0,a);case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),l(t.t0.message);case 8:return t.prev=8,r(!1),t.finish(8);case 11:case"end":return t.stop()}}),t,null,[[0,5,8,11]])}))),200);case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),a,o]}(function(){var e=Object(d.a)(u.a.mark((function e(t,n,a,c){var s,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.getAll(t,n,a,c);case 2:s=e.sent,r(Object(j.a)(s.data)),i=s.headers["x-total-count"],N(i);case 6:case"end":return e.stop()}}),e)})));return function(t,n,a,c){return e.apply(this,arguments)}}()),M=Object(b.a)(T,3),W=M[0],F=M[1],I=M[2];return Object(c.useEffect)((function(){W(A,L,o,x),z(1)}),[A,o]),Object(c.useEffect)((function(){W(A,L,o,x)}),[L,x]),Object(c.useEffect)((function(){e("".concat(L))}),[L]),I?Object(g.jsxs)("h1",{children:["\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 $",I]}):Object(g.jsxs)("div",{className:"posts__container container",children:[Object(g.jsx)(J,{search:i,onSearchChange:l,resetSearch:h,limit:A,setLimit:P,isPostsLoading:F,isEmptySearch:!a.length}),Object(g.jsx)(y,{debouncedSearch:o,sort:x,setSort:p,posts:a,isPostsLoading:F}),Object(g.jsx)(_,{className:"pagination-bar",currentPage:L,totalCount:C,pageSize:A,onPageChange:function(e){return z(e)}})]})};var V=function(){return Object(g.jsx)(R,{})};i.a.render(Object(g.jsxs)(o.a,{children:[Object(g.jsx)(a.a,{}),Object(g.jsx)(V,{})]}),document.getElementById("root"))}},[[140,1,2]]]);
//# sourceMappingURL=main.8976dad0.chunk.js.map